!function(t){window.RtclBPAS={init:function(){this.ShareOptions(),this.customShare(),this.activityShare()},ShareOptions:function(){t("body").on("click",".rtcl-show-share-options",(function(a){a.preventDefault();var o=t(this).attr("data-activity-id"),e=new RtclModal({footer:!1,wrapClass:"heading bp-modal"}),n={action:"rtcl_bp_share_option",activity_id:o,__rtcl_wpnonce:rtcl_bp.__rtcl_wpnonce};t.ajax({url:rtcl_bp.ajaxurl,data:n,type:"POST",beforeSend:function(){e.addModal().addLoading()},success:function(t){e.removeLoading(),e.addTitle(t.title),t.success&&e.content(t.content)},error:function(t){e.removeLoading()}})}))},activityShare:function(){t("body").on("click",".rtcl-share-options-wrapper .share-to > span",(function(a){a.preventDefault();var o=t(this),e=o.closest(".rtcl-share-options-wrapper"),n=e.attr("activity-id"),i=o.attr("data-value"),r=o.attr("group-id"),s=e.find("#share-type").val();custom_text="rtcl-share-custom"===s?e.find(".rtcl-bp-custom-text").val():"";var c={action:"rtcl_bp_share_activity",act_id:n,share_to:i,group_id:r,__rtcl_wpnonce:rtcl_bp.__rtcl_wpnonce,custom_text:custom_text};return t.ajax({url:rtcl_bp.ajaxurl,data:c,type:"POST",beforeSend:function(){e.parents(".rtcl-modal-content").addClass("loading")},success:function(t){t.success?(e.find(".notification").show(),e.parents(".rtcl-modal-content").removeClass("loading")):e.find(".notification").hide()},error:function(t){e.find(".notification").text("Error Occurred"),e.find(".notification").show()}}),!1}))},customShare:function(){t("body").on("change","#share-type",(function(){var a=t(this),o=a.parent(".rtcl-share-options-wrapper"),e=o.find(".rtcl-bp-custom-text"),n=o.find(".social-share-button"),i=o.find(".social-share-heading");"rtcl-share-custom"===a.val()?(e.removeClass("hide").addClass("show"),n.removeClass("show").addClass("hide"),i.removeClass("show").addClass("hide")):(e.removeClass("show").addClass("hide"),n.removeClass("hide").addClass("show"),i.removeClass("hide").addClass("show"))}))}},t(document).ready((function(){window.RtclBPAS.init()}))}(jQuery);
